# ProjecD20
Test task for Unity developer position in GDForge. Rolling d20 dice mechanic.

Суть приложения - броски кубика d20.

Если навести на кубик мышку, он начинает пульсировать благодаря скрипту PulseController. Если мышку убрать, он возвращается в исходный размер.
Также кубик можно схватить, зажав ЛКМ, тогда он будет следовать за мышкой и крутиться в руке.
Если отпустить ЛКМ, кубик начинает катиться в заданную точку.

Для движения кубика рассматривалась возможность использования физики с помощью RigidBody, но мне показалось это излишним.
Физику сложно контролировать, а сделать её реалистичной **И** красивой ещё сложнее.
Поэтому в движении используется transfrom.Translate и Quaternion.
Несложная функция приводит кубик в движение по спирали в заданную точку с учётом заданного угла и скорости.
За движение по спирали и возможность перетаскивать кубик отвечает класс SpiralMovement, прикрепленный к контейнеру кубика.

Чтобы кубик не просто вращался, а вращался в нужную сторону, отдельно был создан клссс RotationController.
Spiral Movement заставляет контейнер двигаться по спирали поворачиваться в сторону движения.
RotationController прикреплён к самому кубику и заставляет его крутить вперед вокруг собственной оси.
Тут можно было обойтись одним скриптом и без контейнера, но тогда код был бы слишком сложным для понимания и дальнейшей работы.

Когда кубик достигает нужной точки, вызывается функция SetSide(), которая разворачивает его выпавшей стороной вверх.
Простой скрипт со Switch case назначает нужные углы разоворта.
Такое написание опять же делает скрипт значительно проще для понимания и дальнейшего редактирования.

В этом же методе вызывается ивент, который проверяет сложность броска, подсчитывает бонусы от предметов и выдает надписи Success или Failure. Он также учитывает проверку критических удач и неудач (20 на кубике - всегда успех, 1 - всегда неудача).
Предметы созданы по одному и тому же паттерну, чтобы их было легче модифицировать в будущем, подсчет бонусов происходит через тег "Item". Все предметы отображаются справа.

Были также добавлены небольшие визуальные эффекты для кубика. Для этого использовались Shader Graph и VFX Graph.
